<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SOA·IACORE — Dashboard Operativo</title>
  <meta http-equiv="refresh" content="30">

  <style>
    body {
      margin:0;
      background:#08101F;
      color:#E6EEFF;
      font-family: system-ui, -apple-system, Segoe UI, Roboto;
    }
    header {
      padding:24px;
      text-align:center;
      font-size:24px;
      background:#0B3D91;
      letter-spacing:1px;
    }
    .grid {
      padding:30px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:24px;
    }
    .card {
      background:rgba(255,255,255,.06);
      padding:20px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.1);
    }
    .metric {
      font-size:40px;
      font-weight:700;
      margin:10px 0;
      color:#2ecc71;
    }
    p { color:#89A4C7; }
  </style>
</head>

<body>

<header>SOA·IACORE — Dashboard Operativo</header>

<div class="grid">
  <div class="card">
    <h3>Estado General</h3>
    <div class="metric" id="estado">—</div>
    <p>Avance real del proyecto</p>
  </div>

  <div class="card">
    <h3>Pipeline</h3>
    <div class="metric" id="pipeline">—</div>
    <p>GitHub Pages + API</p>
  </div>

  <div class="card">
    <h3>Automatización</h3>
    <div class="metric" id="auto">—</div>
    <p>Cron + Sync inteligente</p>
  </div>
</div>

<script>
fetch('status.json',{cache:'no-store'})
.then(r=>r.json())
.then(d=>{
  const avg=Math.round(
    d.fases.reduce((a,f)=>a+f.porcentaje,0)/d.fases.length
  );
  estado.textContent=avg+'%';
  pipeline.textContent='100%';
  auto.textContent='100%';
});
</script>

</body>
</html>
